"use strict";var startingData=["https://www.google.com","https://www.guardian.com","https://www.thetimes.co.uk/","https://www.nytimes.com/","https://www.bbc.co.uk/news","https://www.independent.co.uk/","https://www.economist.com/","https://www.dailymail.co.uk/home/index.html","https://www.latimes.com/","http://edition.cnn.com/","https://www.msnbc.com/","https://abcnews.go.com","https://www.jpost.com","https://www.theatlantic.com/","https://www.haaretz.com/","https://www.newstatesman.com/","https://www.spectator.co.uk/","https://www.scmp.com/frontpage/international","https://www.ft.com/?edition=uk","https://www.thesun.co.uk/","https://www.mirror.co.uk/","https://www.politico.com/","https://www.bostonglobe.com/","https://www.wsj.com/","https://www.wired.co.uk/","http://mashable.com","https://thenextweb.com/","https://www.lonelyplanet.com/","https://newrepublic.com/","http://http://www.slate.com/","http://www.time.com","https://www.newyorker.com/","http://www.huffingtonpost.co.uk/","https://reason.com/","https://www.ted.com/talks","https://www.thenation.com/","https://www.foreignaffairs.com/","https://foreignpolicy.com/","https://www.commentarymagazine.com/","https://www.salon.com/","https://www.csmonitor.com/"],urlList=startingData.slice(),selectedPage=0,pages=void 0,xmlhttp=new XMLHttpRequest;function toggleSpinner(){document.getElementById("spinner").classList.toggle("hidden"),document.getElementById("content").classList.toggle("hidden")}function toggleResultsPage(){document.getElementById("results").classList.toggle("hidden"),document.getElementById("overview").classList.toggle("hidden")}function changePage(e){e!==selectedPage&&(selectedPage=e,getLinkList())}function getNumberOfPages(){pages=Math.ceil(urlList.length/20)||1}function changeLinkBackgrounds(){var e=document.getElementsByClassName("page-number");Array.prototype.forEach.call(e,function(e){return e.style["background-color"]="transparent"}),document.getElementById("page-number-"+(selectedPage+1)).style["background-color"]="rgba(255, 255, 255, 0.1)"}function deleteLink(e){urlList.splice(e,1),getNumberOfPages(),selectedPage>=pages&&selectedPage--,getPageNumbers(),getLinkList()}function resetView(){selectedPage=0,getPageNumbers(),getLinkList()}function getPageNumbers(){getNumberOfPages();for(var e="",t=0;t<pages;t++){e+="\n      <button\n          class='page-number'\n          id='page-number-"+(t+1)+"'\n          onclick=changePage("+t+")\n      >\n        "+(t+1)+"\n      </button>\n    "}document.getElementById("page-numbers").innerHTML=e}function getLinkList(){for(var e="",t=20*selectedPage;t<20*selectedPage+20;t++){var n="\n      <li class='link-li'>\n        <button\n            class='delete-button'\n            id='delete-button-"+t+"'\n            onclick=deleteLink("+t+")\n        >\n          <img src='images/trash-can.png'>\n        </button>\n          <a href='"+urlList[t]+"'target='_blank'>\n            <button class='link-button'>\n              <img src='images/link.png'>\n            </button>\n          </a>\n        <p\n            contenteditable='true'\n            id='link-"+t+"'\n            class='link-item'\n        >\n          "+urlList[t]+"\n        </p>\n      </li>\n    ";urlList[t]&&(e+=n)}document.getElementById("link-list").innerHTML=e,changeLinkBackgrounds()}document.getElementById("load-sample-data").addEventListener("click",function(){localStorage.removeItem("updatedData"),urlList=startingData.slice(),window.scroll(0,0),setTimeout(function(){toggleSpinner()},500),toggleSpinner(),resetView()},!1),document.getElementById("clear-data").addEventListener("click",function(){localStorage.removeItem("updatedData"),urlList=[],window.scroll(0,0),resetView()},!1),document.getElementById("increment").addEventListener("click",function(){selectedPage<pages-1&&(selectedPage++,getLinkList())},!1),document.getElementById("decrement").addEventListener("click",function(){selectedPage>0&&(selectedPage--,getLinkList())},!1);var editable=document.getElementsByClassName("link-item");Array.prototype.forEach.call(editable,function(e){e.addEventListener("input",function(){var e=this.getAttribute("id").split("-")[1];urlList[e]=this.innerHTML})}),document.getElementById("overview-page-link").addEventListener("click",function(e){e.preventDefault(),toggleResultsPage()}),document.getElementById("add-url-form").addEventListener("submit",function(e){e.preventDefault();var t=document.getElementById("input-url").value;toggleSpinner(),xmlhttp.open("GET","https://cors-anywhere.herokuapp.com/"+t,!0),xmlhttp.send()}),xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState===XMLHttpRequest.DONE){toggleSpinner();var e=this.responseURL.replace("https://cors-anywhere.herokuapp.com/","");document.getElementById("new-url").innerHTML=e,toggleResultsPage(),200===xmlhttp.status?urlList.indexOf(e)>-1?(document.getElementById("result-message").innerHTML="That URL already exists in the list!",document.getElementById("add-url-form").reset()):(document.getElementById("result-message").innerHTML="Thank you for submitting a new URL! ðŸ‘Š",urlList.push(e),getNumberOfPages(),selectedPage=pages-1,getPageNumbers(),getLinkList()):document.getElementById("result-message").innerHTML="The following URL does not exist or is currently unreachable ðŸ˜¢<br> Try again."}},window.onload=function(){localStorage.updatedData&&(urlList=JSON.parse(localStorage.getItem("updatedData")))},window.onbeforeunload=function(){"undefined"!=typeof Storage?localStorage.setItem("updatedData",JSON.stringify(urlList)):console.log("Browser cannot persist data across page refresh :(")},getPageNumbers(),getLinkList();