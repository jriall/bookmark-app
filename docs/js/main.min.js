let pages,startingData=["https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.telegraph.com","https://www.telegraph.com","https://www.guardian.com","https://www.telegraph.com","https://www.guardian.com","https://www.google.com","https://www.telegraph.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.telegraph.com","https://www.telegraph.com","https://www.guardian.com","https://www.telegraph.com","https://www.guardian.com","https://www.google.com","https://www.telegraph.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.telegraph.com","https://www.telegraph.com","https://www.guardian.com","https://www.telegraph.com","https://www.guardian.com","https://www.google.com","https://www.telegraph.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.telegraph.com","https://www.telegraph.com","https://www.guardian.com","https://www.telegraph.com","https://www.guardian.com","https://www.google.com","https://www.telegraph.com","https://www.google.com","https://www.guardian.com","https://www.google.com","https://www.guardian.com","https://www.google.com"],urlList=startingData.slice(),selectedPage=0;function changePage(t){t!==selectedPage&&(selectedPage=t,getLinkList())}function getNumberOfPages(){pages=Math.ceil(urlList.length/20)}function getPageNumbers(){getNumberOfPages();let t="";for(let e=0;e<pages;e++){t+=`\n    <button class="page-number" id="page-number-${e+1}" onclick=changePage(${e})>\n      ${e+1}\n    </button>\n  `}document.getElementById("page-numbers").innerHTML=t}function getLinkList(){let t="";for(let e=20*selectedPage;e<20*selectedPage+20;e++){const o=`\n      <li class="link-li">\n        <button class="delete-button" id="delete-button-${e}" onclick=deleteLink(${e})><img src="images/trash-can.png"></button>\n        <button class="link-button"><a href="${urlList[e]}" target="_blank"><img src="images/link.png"></a></button>\n        <p contenteditable="true" id="link-${e}" class="link-item">${urlList[e]}</p>\n      </li>\n    `;void 0!==urlList[e]&&(t+=o)}document.getElementById("link-list").innerHTML=t,changeLinkBackgrounds()}function changeLinkBackgrounds(){let t=document.getElementsByClassName("page-number");Array.prototype.forEach.call(t,t=>t.style["background-color"]="transparent"),document.getElementById(`page-number-${selectedPage+1}`).style["background-color"]="rgba(255, 255, 255, 0.1)"}function deleteLink(t){urlList.splice(t,1),getNumberOfPages(),selectedPage>=pages&&selectedPage--,getPageNumbers(),getLinkList()}window.onload=(()=>{localStorage.updatedData&&(urlList=JSON.parse(localStorage.getItem("updatedData")))}),window.onbeforeunload=function(){localStorage.setItem("updatedData",JSON.stringify(urlList))},document.getElementById("reset-data").addEventListener("click",function(){localStorage.removeItem("updatedData"),urlList=startingData.slice(),window.scroll(0,0),setTimeout(function(){document.getElementById("spinner").classList.toggle("hidden"),document.getElementById("content").classList.toggle("hidden")},500),document.getElementById("spinner").classList.toggle("hidden"),document.getElementById("content").classList.toggle("hidden"),selectedPage=0,getPageNumbers(),getLinkList()},!1),document.getElementById("increment").addEventListener("click",function(){selectedPage<pages-1&&(selectedPage++,getLinkList())},!1),document.getElementById("decrement").addEventListener("click",function(){selectedPage>0&&(selectedPage--,getLinkList())},!1),getPageNumbers(),getLinkList(),document.getElementById("overview-page-link").addEventListener("click",function(t){t.preventDefault(),document.getElementById("results").classList.toggle("hidden"),document.getElementById("overview").classList.toggle("hidden")});let editable=document.getElementsByClassName("link-item");Array.prototype.forEach.call(editable,t=>{t.addEventListener("input",function(){let t=this.getAttribute("id").split("-")[1];urlList[t]=this.innerHTML})}),document.getElementById("add-url-form").addEventListener("submit",function(t){t.preventDefault();let e=document.getElementById("input-url").value;document.getElementById("spinner").classList.toggle("hidden"),document.getElementById("content").classList.toggle("hidden"),xmlhttp.open("GET",`https://cors-anywhere.herokuapp.com/${e}`,!0),xmlhttp.send()});var xmlhttp=new XMLHttpRequest;xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==XMLHttpRequest.DONE){document.getElementById("spinner").classList.toggle("hidden"),document.getElementById("content").classList.toggle("hidden");let t=this.responseURL.replace("https://cors-anywhere.herokuapp.com/","");document.getElementById("new-url").innerHTML=t,document.getElementById("results").classList.toggle("hidden"),document.getElementById("overview").classList.toggle("hidden"),200==xmlhttp.status?(document.getElementById("result-message").innerHTML="Thank you for submitting a new URL! ðŸ‘Š",urlList.push(t),document.getElementById("add-url-form").reset(),getNumberOfPages(),selectedPage=pages-1,getPageNumbers(),getLinkList()):document.getElementById("result-message").innerHTML="The following URL does not exist ðŸ˜¢<br> Try again."}};